(()=>{var t={395:t=>{t.exports="#version 300 es\nprecision highp float;\n\nin vec3 fnormal;\n\nuniform vec4 color;\nuniform vec3 lightdir;\nuniform vec3 lightcolor;\nuniform vec4 eyedir;\n\nout vec4 fcolor;\n\n// larger scale, smaller specular area\nfloat specularScale = 200.0;\n// larger intensity, brighter specular\nfloat specularIntensity = 10.0;\n\nvoid main() {\n  vec3 fnormal_ = normalize(fnormal);\n  vec3 ld = normalize(lightdir);\n\n  float lambert = max(0.0, dot(fnormal_, ld));\n  vec3 ed = normalize(eyedir.xyz);\n  // Half way between eye direction and light direction\n  vec3 h = normalize(ld + ed);\n  float blinnphong = pow(max(0.0, dot(fnormal_, h)), specularScale);\n\n  fcolor = vec4(color.rgb * lambert + lightcolor * blinnphong * specularIntensity, color.a);\n}"},620:t=>{t.exports="#version 300 es\nprecision highp float;\n\n// Formal vector of the fragment. After model-view transformation.\nin vec3 fnormal;\n// Fragment's object color.\nin vec4 fcolor;\n\n// Vertical Direction vector. After model-view transformation.\nuniform vec3 vertical;\n// Light direction. After model-view transformation.\nuniform vec3 lightdir;\n// Light color.\nuniform vec3 lightcolor;\n// Eye direction. After model-view transformation.\nuniform vec4 eyedir;\n// Threshold for applying rocky cliff, 1 if no cliff\nuniform float cliffcutoff;\n\nout vec4 fragColor;\n\n/** Constants. */\n// larger scale, smaller specular area\nfloat specularScale = 100.0;\n// larger intensity, brighter specular\nfloat specularIntensity = 0.6;\n\n// Specular light parameters for cliff area.\n// Cliff has no specular lights\nfloat cliffScale = 100.0;\nfloat cliffIntensity = 0.0;\n\nvoid main() {\n  vec3 fd = normalize(fnormal);\n  vec3 ld = normalize(lightdir);\n\n  // Diffuse light intensity\n  float lambert = max(0.0, dot(fd, ld));\n\n  // Specular light intensity\n  vec3 ed = normalize(eyedir.xyz);\n  // Half way vector eye direction and light direction\n  vec3 h = normalize(ld + ed);\n  vec3 vd = normalize(vertical);\n  float slope = abs(dot(fd, vd));\n  // if current fragment lies on a cliff.\n  if(slope > cliffcutoff) {\n    // Use a distinct cliff color and cliff specular lighting.\n    float blinnphong = pow(max(0.0, dot(fd, h)), cliffScale);\n    vec4 cliffColor = vec4(0.208, 0.31, 0.322, 1);\n    fragColor = vec4(cliffColor.rgb * lambert + lightcolor * blinnphong * cliffIntensity, cliffColor.a);\n  } else {\n    // Use object color and object specular lighting.\n    float blinnphong = pow(max(0.0, dot(fd, h)), specularScale);\n    fragColor = vec4(fcolor.rgb * lambert + lightcolor * blinnphong * specularIntensity, fcolor.a);\n  }\n}"},307:t=>{t.exports="#version 300 es\n\nin vec4 position;\nin vec3 normal;\nout vec3 fnormal;\n\nuniform mat4 m; // model matrix\nuniform mat4 v; // view matrix\nuniform mat4 p; // projection matrix\n\nvoid main() {\n  gl_Position = p * v * m * position;\n  fnormal = mat3(v) * mat3(m) * normal;\n}"},829:t=>{t.exports="#version 300 es\n\nin vec4 position;\nin vec3 normal;\nin vec4 color;\n\nout vec3 fnormal;\nout vec4 fcolor;\n\nuniform mat4 m; // model matrix\nuniform mat4 v; // view matrix\nuniform mat4 p; // projection matrix\n\nvoid main() {\n  gl_Position = p * v * m * position;\n  fnormal = mat3(v) * mat3(m) * normal;\n  fcolor = color;\n}"}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};n.r(t),n.d(t,{createGeomFromOption:()=>U,draw:()=>A,setup:()=>_});var e={};n.r(e),n.d(e,{createGeomFromOption:()=>R,draw:()=>I,setup:()=>T});var o={};n.r(o),n.d(o,{createGeomFromOption:()=>B,draw:()=>C,setup:()=>j});var r={};function i(t,e){t=Array.from(t),e&&e<t.length&&(t=t.slice(0,e));let n=Math.sqrt(t.map((t=>t*t)).reduce(((t,e)=>t+e)));return t.map((t=>t/n))}function a(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function l(t,e,n){return n=n?Math.min(t.length,e.length,n):Math.min(t.length,e.length),Array.from(t).slice(0,n).map(((t,n)=>t*e[n])).reduce(((t,e)=>t+e))}function c(t,e,n){return n=n?Math.min(t.length,e.length,n):Math.min(t.length,e.length),Array.from(t).slice(0,n).map(((t,n)=>t+e[n]))}function s(t,e,n){return n=n?Math.min(t.length,e.length,n):Math.min(t.length,e.length),Array.from(t).slice(0,n).map(((t,n)=>t-e[n]))}function f(t,e){if(!(16===t.length&&16===e.length||16===t.length&&4===e.length))throw new Error(`Invalid Matrix Length: ${t.length}, ${e.length}`);return 16===e.length?function(t,e){let n=new Float32Array(16);for(let o=0;o<4;o+=1)for(let r=0;r<4;r+=1)for(let i=0;i<4;i+=1)n[o+4*r]+=t[o+4*i]*e[i+4*r];return n}(t,e):function(t,e){let n=new Float32Array(4);for(let o=0;o<4;o+=1)for(let r=0;r<4;r+=1)n[o]+=t[o+4*r]*e[r];return n}(t,e)}function m(){return 1==arguments.length?arguments[0]:Array.prototype.reduce.apply(arguments,[f])}function u(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function g(t){let e=Math.cos(t),n=Math.sin(t);return new Float32Array([1,0,0,0,0,e,n,0,0,-n,e,0,0,0,0,1])}n.r(r),n.d(r,{createGeomFromOption:()=>G,draw:()=>q,setup:()=>Y});const p=new Float32Array([.075,.16,.292,1]),h=new Float32Array([1,.373,.02,1]),d=new Float32Array([1,1,1]),v=new Float32Array([0,0,0]),b={terrain:{label:"Required: Faulting-method terrain",options:{resolution:{type:"number",default:100,label:"Grid size"},slices:{type:"number",default:100,label:"Fractures"},grids:{type:"radio",options:{rectangle:"Rectangle Grid",triangle:"Triangular Grid"},label:"Grid Type"},specular:{type:"checkbox",default:!1,label:"Shiny"},color:{type:"checkbox",default:!1,label:"Height-Based Color Map"},cliff:{type:"checkbox",default:!1,label:"Rocky Cliffs"},weathering:{type:"number",default:0,label:"#Iteration of Spheroidal Weathering"}}},sphere:{label:"UV-Sphere",options:{latitude:{type:"number",default:100,label:"Number of latitude rings"},longitude:{type:"number",default:100,label:"Number of longitude slices"}}},torus:{label:"Torus",options:{rings:{type:"number",default:100,label:"Number of rings"},points:{type:"number",default:100,label:"Number of points per ring"},major:{type:"number",default:1,label:"Major radius(Distance from torus center to ring center)"},minor:{type:"number",default:.1,label:"Minor radius(radius of each ring)"}}},icosphere:{label:"Icosphere",options:{iteration:{type:"number",default:0,label:"#Iteration"}}}};function y(t,e,n){let o=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(o,e),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw console.error(t.getShaderInfoLog(o)),Error("Vertex shader compilation failed");let r=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw console.error(t.getShaderInfoLog(r)),Error("Fragment shader compilation failed");const i=t.createProgram();if(t.attachShader(i,o),t.attachShader(i,r),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw console.error(t.getProgramInfoLog(i)),Error("Linking failed");return i}function w(t,e,n){const o=t.createVertexArray();t.bindVertexArray(o),Object.entries(e.attributes).forEach((([e,o])=>{let r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r);let i=new Float32Array(o.flat());t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW);let a=t.getAttribLocation(n,e);t.vertexAttribPointer(a,o[0].length,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a)}));var r=new Uint16Array(e.triangles.flat()),i=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,t.STATIC_DRAW),{mode:t.TRIANGLES,count:r.length,type:t.UNSIGNED_SHORT,vao:o}}const M={};function A(t,e){const{eye:n,v:o,p:r}=e,{program:i,geom:a,lightdir:l,specular:c,cliff:s}=M;gl.useProgram(i);const f=g(-Math.PI/2),u=gl.getUniformLocation(i,"m");gl.uniformMatrix4fv(u,!1,f);const p=gl.getUniformLocation(i,"v");gl.uniformMatrix4fv(p,!1,o);const h=gl.getUniformLocation(i,"p");gl.uniformMatrix4fv(h,!1,r);const b=m(o,m(f,[0,1,0,0])),y=gl.getUniformLocation(i,"vertical");gl.uniform3fv(y,new Float32Array(b.slice(0,3)));const w=t/1e3,A=m(g(.5*Math.cos(w/2)-.5),l),x=gl.getUniformLocation(i,"lightdir");gl.uniform3fv(x,new Float32Array(A.slice(0,3)));const E=gl.getUniformLocation(i,"lightcolor"),F=c?d:v;gl.uniform3fv(E,F);const L=gl.getUniformLocation(i,"eyedir");gl.uniform4fv(L,n);const S=gl.getUniformLocation(i,"cliffcutoff"),U=s?.7:1;gl.uniform1f(S,U),gl.bindVertexArray(a.vao),gl.drawElements(a.mode,a.count,a.type,0)}function x(t){const{minX:e,maxX:n,minY:o,maxY:r}=M,i=n-e,a=r-o,l=Math.sqrt(3)/2,c=[],s=[],f=i/t,m=a/t;for(let n=0;n<t;n+=1){const r=e+f*l*n,i=o+.5*m*n;for(let e=0;e<t;e+=1){const t=i+m*e;c.push([r,t,0])}}for(let e=0;e<t-1;e+=1)for(let n=0;n<t-1;n+=1){const o=e*t+n,r=o+1,i=o+t,a=o+t+1;s.push([o,i,r]),s.push([r,i,a])}return{attributes:{position:c},triangles:s}}function E(t){const{minX:e,maxX:n,minY:o,maxY:r}=M,i=(n-e)/t,a=(r-o)/t,l=[],c=[];for(let n=0;n<t;n+=1){const r=e+i*n;for(let e=0;e<t;e+=1){const t=o+a*e;l.push([r,t,0])}}for(let e=0;e<t-1;e+=1)for(let n=0;n<t-1;n+=1){const o=e*t+n,r=o+1,i=o+t,a=o+t+1;c.push([o,i,r]),c.push([r,i,a])}return{attributes:{position:l},triangles:c}}function F(t,e){const{minX:n,maxX:o,minY:r,maxY:i}=M,a=Math.random()*(o-n)+n,c=Math.random()*(i-r)+r,f=Math.random()*(2*Math.PI),m=[a,c],u=[Math.cos(f),Math.sin(f)];let g=0,p=0;for(let n=0;n<t.attributes.position.length;n+=1){const o=t.attributes.position[n],r=l(s(o.slice(0,2),m),u)>=0?1:-1;o[2]+=.035*r*Math.pow(.98,e),g=Math.min(g,o[2]),p=Math.max(p,o[2])}return{minZ:g,maxZ:p}}function L(t,e,n,o=void 0,r=void 0,i=void 0){o=o??(t=>{const o=1-(t-e)/(n-e);return Math.pow(2,o)-1}),r=r??(t=>1-(t-e)/(n-e)),i=i??(t=>{const o=2*Math.abs((t-e)/(n-e)-.5);return Math.pow(2,o)-1}),t.attributes.color=[];for(let e=0;e<t.attributes.position.length;e+=1){const n=t.attributes.position[e][2];t.attributes.color.push([o(n),r(n),i(n),1])}}function S(t,e,n=.001){const o=[];for(let n=0;n<e;n+=1)for(let r=0;r<e;r+=1){let i=[0,0,0],a=0;for(let o=-1;o<=1;o+=1)for(let l=-1;l<=1;l+=1){if(0===o&&0===l)continue;const s=n+o,f=r+l;if(s<0||s>=e||f<0||f>=e)continue;const m=s*e+f;i=c(i,t.attributes.position[m]),a+=1}o.push(i.map((t=>t/a)))}for(let e=0;e<t.attributes.position.length;e+=1){const r=o[e],a=t.attributes.position[e];if(r[0]===a[0]&&r[1]===a[1]&&r[2]===a[2])continue;const l=i(s(r,a)).map((t=>t*n));t.attributes.position[e]=c(a,l)}}function U(t){const{resolution:e,slices:n,grids:o,weathering:r,specular:l,color:f,cliff:m,erosion:u}=t;M.specular=l,M.cliff=m;const g=e+1,p=("triangle"===o?x:E)(g);let d=0,v=0;for(let t=0;t<n;t+=1)({minZ:d,maxZ:v}=F(p,t));!function(t,e,n,o){const{minX:r,maxX:i}=M,a=.4*(i-r);t.attributes.position.forEach((t=>{const o=(t[2]-e)*a/(n-e)-a/2;t[2]=o})),o?L(t,a/2,-a/2):L(t,a/2,-a/2,(()=>h[0]),(()=>h[1]),(()=>h[2]))}(p,d,v,f);for(let t=0;t<r;t+=1)S(p,g);for(let t=0;t<u;t+=1)applyParticleBasedErosion(p,g);(function(t){t.attributes.normal=[];for(let e=0;e<t.attributes.position.length;e+=1)t.attributes.normal.push([0,0,0]);t.triangles.forEach((e=>{const[n,o,r]=e.map((e=>t.attributes.position[e])),i=a(s(o,n),s(r,n)),l=i[2]>0?i:(f=i,Array.from(f).map((t=>-t)));var f;e.forEach((e=>{const n=t.attributes.normal[e];t.attributes.normal[e]=c(n,l)}))}));for(let e=0;e<t.attributes.position.length;e+=1)t.attributes.normal[e]=i(t.attributes.normal[e])})(p),M.geom=w(gl,p,M.program)}async function _(){const t=n(829),e=n(620),o=y(gl,t,e);M.program=o,M.lightdir=i([3,0,3,1]),M.minX=-1,M.maxX=1,M.minY=-1,M.maxY=1}const P={};function I(t,e){const{p:n,v:o,eye:r}=e,{program:i,geom:a}=P;gl.useProgram(i);const l=u(),c=gl.getUniformLocation(i,"m");gl.uniformMatrix4fv(c,!1,l);const s=gl.getUniformLocation(i,"v");gl.uniformMatrix4fv(s,!1,o);const f=gl.getUniformLocation(i,"p");gl.uniformMatrix4fv(f,!1,n);const m=gl.getUniformLocation(i,"color");gl.uniform4fv(m,h);const g=gl.getUniformLocation(i,"lightdir");gl.uniform3fv(g,new Float32Array([1,0,1]));const p=gl.getUniformLocation(i,"lightcolor");gl.uniform3fv(p,d);const v=gl.getUniformLocation(i,"eyedir");gl.uniform4fv(v,r),gl.bindVertexArray(a.vao),gl.drawElements(a.mode,a.count,a.type,0)}function R(t){const{latitude:e,longitude:n}=t,o=function(t,e){const n=1/(t-1),o=1/e,r=[],i=[],a=[];for(let l=0;l<t;l+=1){const c=Math.PI/2-Math.PI*n*l,s=(l+1)%t;for(let t=0;t<e;t+=1){const n=(t+1)%e,f=2*Math.PI*o*t,m=1*Math.cos(c)*Math.cos(f),u=1*Math.cos(c)*Math.sin(f),g=1*Math.sin(c);r.push([m,u,g]),i.push([m,u,g]);const p=l*e+t,h=l*e+n,d=s*e+t,v=s*e+n;a.push([p,d,h]),a.push([h,d,v])}}return{attributes:{position:r,normal:i},triangles:a}}(e,n);P.geom=w(gl,o,P.program)}async function T(){const t=n(307),e=n(395),o=y(gl,t,e);P.program=o,P.minX=-1,P.minY=-1,P.maxX=1,P.maxY=1}const O={};function C(t,e){const{p:n,v:o,eye:r}=e,{program:i,geom:a}=O;gl.useProgram(i);const l=u(),c=gl.getUniformLocation(i,"m");gl.uniformMatrix4fv(c,!1,l);const s=gl.getUniformLocation(i,"v");gl.uniformMatrix4fv(s,!1,o);const f=gl.getUniformLocation(i,"p");gl.uniformMatrix4fv(f,!1,n);const m=gl.getUniformLocation(i,"color");gl.uniform4fv(m,h);const g=gl.getUniformLocation(i,"lightdir");gl.uniform3fv(g,new Float32Array([1,0,1]));const p=gl.getUniformLocation(i,"lightcolor");gl.uniform3fv(p,d);const v=gl.getUniformLocation(i,"eyedir");gl.uniform4fv(v,r),gl.bindVertexArray(a.vao),gl.drawElements(a.mode,a.count,a.type,0)}function B(t){const{rings:e,points:n,major:o,minor:r}=t,i=function(t,e,n,o){const r=[],i=2*Math.PI/t,a=Math.sqrt(n),l=[],c=[],f=2*Math.PI/e;for(let e=0;e<t;e+=1){const m=i*e,u=Math.cos(m)*a,g=Math.sin(m)*a;r.push([u,g,0]);const p=[],h=[];for(let e=0;e<t;e+=1){const t=f*e,r=Math.cos(t)*o,i=n-Math.sin(t)*o,a=Math.cos(m)*i,l=Math.sin(m)*i;p.push([a,l,r]),h.push(s([a,l,r],[u,g,0]))}l.push(p),c.push(h)}const m=[];for(let n=0;n<t;n+=1){const o=(n+1)%t;for(let r=0;r<e;r+=1){const i=(r+1)%e,a=n*t+r,l=n*t+i,c=o*t+r,s=o*t+i;m.push([a,c,l]),m.push([l,c,s])}}return{attributes:{position:l.flat(),normal:c.flat()},triangles:m}}(e,n,o,r);O.geom=w(gl,i,O.program)}async function j(){const t=n(307),e=n(395),o=y(gl,t,e);O.program=o}const D={};function q(t,e){const{p:n,v:o,eye:r}=e,{program:i,geom:a}=D;gl.useProgram(i);const l=u(),c=gl.getUniformLocation(i,"m");gl.uniformMatrix4fv(c,!1,l);const s=gl.getUniformLocation(i,"v");gl.uniformMatrix4fv(s,!1,o);const f=gl.getUniformLocation(i,"p");gl.uniformMatrix4fv(f,!1,n);const m=gl.getUniformLocation(i,"color");gl.uniform4fv(m,h);const g=gl.getUniformLocation(i,"lightdir");gl.uniform3fv(g,new Float32Array([1,0,1]));const p=gl.getUniformLocation(i,"lightcolor");gl.uniform3fv(p,d);const v=gl.getUniformLocation(i,"eyedir");gl.uniform4fv(v,r),gl.bindVertexArray(a.vao),gl.drawElements(a.mode,a.count,a.type,0)}function N(t){const e=new Map,n=(n,o)=>{const r=`${n},${o}`;if(e.has(r))return e.get(r);const a=i(c(t.attributes.position[n],t.attributes.position[o]));return t.attributes.position.push(a),t.attributes.normal.push(a),e.set(r,t.attributes.position.length-1),t.attributes.position.length-1},o=[];for(let e=0;e<t.triangles.length;e+=1){const[r,i,a]=t.triangles[e],l=n(r,i),c=n(i,a),s=n(a,r);o.push([r,l,s]),o.push([i,l,c]),o.push([a,c,s]),o.push([l,c,s])}t.triangles=o}function G(t){const{iteration:e}=t,n=function(){const t=.5*Math.sqrt(5)+.5,e=[[1,t,0],[1,-t,0],[-1,t,0],[-1,-t,0],[0,1,t],[0,1,-t],[0,-1,t],[0,-1,-t],[t,0,1],[-t,0,1],[t,0,-1],[-t,0,-1]].map((t=>i(t)));return{attributes:{position:e,normal:e},triangles:[[2,9,4],[2,4,0],[2,0,5],[2,5,11],[2,11,9],[0,4,8],[4,9,6],[9,11,3],[11,5,7],[5,0,10],[1,8,6],[1,6,3],[1,3,7],[1,7,10],[1,10,8],[6,8,4],[3,6,9],[7,3,11],[10,7,5],[8,10,0]]}}();for(let t=0;t<e;t+=1)N(n);D.geom=w(gl,n,D.program)}async function Y(){const t=n(307),e=n(395),o=y(gl,t,e);D.program=o}const k={};let z;const X={};let H=null;function V(t){gl.clearColor(...p),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);const e=m(function(t){let e=Math.cos(t),n=Math.sin(t);return new Float32Array([e,0,-n,0,0,1,0,0,n,0,e,0,0,0,0,1])}(t/1e3/2),[0,2,3,1]);X.eye=e,X.v=function(t,e,n){let o=i(s(e,t,3)),r=i(a(o,n)),l=a(r,o);return m(new Float32Array([r[0],l[0],-o[0],0,r[1],l[1],-o[1],0,r[2],l[2],-o[2],0,0,0,0,1]),(c=-t[0],f=-t[1],u=-t[2],new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,c,f,u,1])));var c,f,u}(e,[0,0,0],[0,1,0]),null!=z&&null!=k[z]&&k[z].draw(t,X),requestAnimationFrame(V)}function $(){let t=document.querySelector("canvas");document.body.style.margin="0",t.style.width="100%",t.style.height="100%",t.width=t.clientWidth,t.height=t.clientHeight,t.style.width="",t.style.height="",window.gl&&(gl.viewport(0,0,t.width,t.height),X.p=function(t,e,n,o,r){var i,a;{let t=void 0===r?o:o/r;i=(a=1/Math.tan(.5))/t}return new Float32Array([i,0,0,0,0,a,0,0,0,0,-10.1/9.9,-1,0,0,2/-9.9,0])}(0,0,0,t.width,t.height))}async function W(t,e){H&&(cancelAnimationFrame(H),H=null),console.log(`Render ${t}\n Options: `,e),z=t,null!=k[z]&&k[z].createGeomFromOption(e),H=requestAnimationFrame(V)}function Z(t,{createGeomFromOption:e,draw:n,setup:o}){o(),k[t]={createGeomFromOption:e,draw:n}}window.addEventListener("load",(async function(n){window.gl=document.querySelector("canvas").getContext("webgl2",{antialias:!1,depth:!0,preserveDrawingBuffer:!0}),gl.enable(gl.DEPTH_TEST),gl.enable(gl.BLEND),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),Z("terrain",t),Z("sphere",e),Z("torus",o),Z("icosphere",r),$(),gl.clearColor(...p),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT),function(t,e){let n=document.querySelector("#set1");Object.entries(t).forEach((([t,e])=>{let o=document.createElement("input");o.type="radio",o.name="controlOptions",o.value=t;let r=document.createElement("label");r.append(o),r.append(" "+e.label),n.append(r),o.addEventListener("change",(t=>{let n=document.querySelector("#set2");for(;n.firstChild;)n.firstChild.remove();e.options&&Object.entries(e.options).forEach((([t,e])=>{if("radio"==e.type)Object.entries(e.options).forEach((([e,o])=>{let r=document.createElement("input");r.type="radio",r.name=t,r.value=e;let i=document.createElement("label");i.append(r),i.append(o),n.append(i)})),n.querySelector('input[name="'+t+'"]').click();else{let o=document.createElement("input");o.type=e.type,o.name=t,"text"===e.type||"number"===e.type?o.value=e.default:o.checked=e.default,o.step="any";let r=document.createElement("label");r.append(o),r.append(e.label),n.append(r)}}))}))})),n.querySelector('input[type="radio"]').click(),document.querySelector('.controls input[type="submit"]').addEventListener("click",(n=>{n.preventDefault();let o=document.querySelector("form"),r=new FormData(o),i=r.get("controlOptions");r.delete("controlOptions");let a=Object.fromEntries(Array.from(r.entries()).map((([e,n])=>{let o=t[i].options?.[e]?.type,r=t[i].options?.[e]?.default;return"number"==o?[e,Number(n)||r||0]:"checkbox"==o?[e,!0]:[e,n]})));t[i].options&&Object.entries(t[i].options).forEach((([t,e])=>{t in a||("checkbox"==e.type?a[t]=!1:"default"in e&&(a[t]=e.default))})),e(i,a)}))}(b,W)})),window.addEventListener("resize",$)})()})();